<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>我的Swift学习之路(二)--控制流 | yellowChao</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="一位漂泊在北京的重庆崽儿，iOS、Node.js 开发者">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="我的Swift学习之路(二)--控制流 | yellowChao">
    <meta name="twitter:description" content="一位漂泊在北京的重庆崽儿，iOS、Node.js 开发者">

    <meta property="og:type" content="article">
    <meta property="og:title" content="我的Swift学习之路(二)--控制流 | yellowChao">
    <meta property="og:description" content="一位漂泊在北京的重庆崽儿，iOS、Node.js 开发者">

    
    <meta name="author" content="黄智超">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/me.jpg">
    

    <meta name="generator" content="hexo"/>
    

    <link rel="canonical" href="http://yoursite.com/2016/05/23/MySwiftStudyWay2/"/>

    
</head>

<body class="home-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 yellowChao 的主页"><img src="/images/me.jpg" width="80" alt="yellowChao logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for yellowChao">yellowChao</a></h1>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">一位漂泊在北京的重庆崽儿，iOS、Node.js 开发者</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
            
              <li class="navigation__item"><a href="https://github.com/yellowChao">项目作品</a></li>
            
              <li class="navigation__item"><a href="/aboutme">关于我</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  
  <li class="navigation__item">
    <a href="http://weibo.com/soidsnake" title="我的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li> 


  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/yellowChao" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-blue"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-05-22T18:02:06.000Z" class="post-list__meta--date date">2016-05-23</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/Swift/">Swift</a>
</span>
    </div>
    <h1 class="post-title">我的Swift学习之路(二)--控制流</h1>
  </header>

  <section class="post">
    <blockquote>
<p>本期为带来Swift中对程序流程的控制。个人感觉Swift流程控制的代码写法更加简洁方便，而且可读性高更加优美了有没有？=￣ω￣=</p>
</blockquote>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><ul>
<li>Swift 中没有 C 语言中的<code>非零即真</code>概念</li>
<li>在逻辑判断时必须显示地指明具体的判断条件 <code>true</code> / <code>false</code></li>
<li>if 语句条件的 <code>()</code> 可以省略</li>
<li>但是 <code>{}</code> 不能省略</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">200</span></span><br><span class="line"><span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"比 10 小"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> num &gt; <span class="number">100</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"比 100 大"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"10 ~ 100 之间的数字"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三目运算"><a href="#三目运算" class="headerlink" title="三目运算"></a>三目运算</h3><ul>
<li>Swift 中的 <code>三目</code> 运算保持了和 OC 一致的风格</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">20</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a &gt; b ? a : b</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">c</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>适当地运用三目，能够让代码写得更加简洁</p>
</blockquote>
<h3 id="可选项判断"><a href="#可选项判断" class="headerlink" title="可选项判断"></a>可选项判断</h3><ul>
<li>由于可选项的内容可能为 <code>nil</code>，而一旦为 <code>nil</code> 则不允许参与计算</li>
<li>因此在实际开发中，经常需要判断可选项的内容是否为 <code>nil</code></li>
</ul>
<h4 id="单个可选项判断"><a href="#单个可选项判断" class="headerlink" title="单个可选项判断"></a>单个可选项判断</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> url = <span class="type">NSURL</span>(string: <span class="string">"http://www.baidu.com"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//: 方法1: 强行解包 - 缺陷，如果 url 为空，运行时会崩溃</span></span><br><span class="line"><span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(<span class="type">URL</span>: url!)</span><br><span class="line"></span><br><span class="line"><span class="comment">//: 方法2: 首先判断 - 代码中仍然需要使用 `!` 强行解包</span></span><br><span class="line"><span class="keyword">if</span> url != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(<span class="type">URL</span>: url!)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//: 方法3: 使用 `if let`，这种方式，表明一旦进入 if 分支，u 就不在是可选项</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> u = url <span class="keyword">where</span> u.host == <span class="string">"www.baidu.com"</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(<span class="type">URL</span>: u)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="可选项条件判断"><a href="#可选项条件判断" class="headerlink" title="可选项条件判断"></a>可选项条件判断</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1:初学 swift 一不小心就会让 if 的嵌套层次很深，让代码变得很丑陋</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> u = url &#123;</span><br><span class="line">    <span class="keyword">if</span> u.host == <span class="string">"www.baidu.com"</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(<span class="type">URL</span>: u)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2:使用 where 关键字，</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> u = url <span class="keyword">where</span> u.host == <span class="string">"www.baidu.com"</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(<span class="type">URL</span>: u)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>小结<ul>
<li><code>if let</code> 不能与使用 <code>&amp;&amp;</code>、<code>||</code> 等条件判断</li>
<li>如果要增加条件，可以使用 <code>where</code> 子句</li>
<li>注意：<code>where</code> 子句没有智能提示</li>
</ul>
</li>
</ul>
<h4 id="多个可选项判断"><a href="#多个可选项判断" class="headerlink" title="多个可选项判断"></a>多个可选项判断</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//3:可以使用 `,` 同时判断多个可选项是否为空</span></span><br><span class="line"><span class="keyword">let</span> oName: <span class="type">String</span>? = <span class="string">"张三"</span></span><br><span class="line"><span class="keyword">let</span> oNo: <span class="type">Int</span>? = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name = oName &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> no = oNo &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"姓名:"</span> + name + <span class="string">" 学号: "</span> + <span class="type">String</span>(no))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name = oName, <span class="keyword">let</span> no = oNo &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"姓名:"</span> + name + <span class="string">" 学号: "</span> + <span class="type">String</span>(no))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="判断之后对变量需要修改"><a href="#判断之后对变量需要修改" class="headerlink" title="判断之后对变量需要修改"></a>判断之后对变量需要修改</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> oName: <span class="type">String</span>? = <span class="string">"张三"</span></span><br><span class="line"><span class="keyword">let</span> oNum: <span class="type">Int</span>? = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">var</span> name = oName, num = oNum &#123;</span><br><span class="line"></span><br><span class="line">    name = <span class="string">"李四"</span></span><br><span class="line">    num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(name, num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="guard"><a href="#guard" class="headerlink" title="guard"></a>guard</h3><ul>
<li><code>guard</code> 是与 <code>if let</code> 相反的语法，Swift 2.0 推出的</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> oName: <span class="type">String</span>? = <span class="string">"张三"</span></span><br><span class="line"><span class="keyword">let</span> oNum: <span class="type">Int</span>? = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> name = oName <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"name 为空"</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> num = oNum <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"num 为空"</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 代码执行至此，name &amp; num 都是有值的</span></span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line"><span class="built_in">print</span>(num)</span><br></pre></td></tr></table></figure>
<ul>
<li>在程序编写时，条件检测之后的代码相对是比较复杂的</li>
<li>使用 guard 的好处<ul>
<li>能够判断每一个值</li>
<li>在真正的代码逻辑部分，省略了一层嵌套</li>
</ul>
</li>
</ul>
<h2 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h2><ul>
<li><code>switch</code> 不再局限于整数</li>
<li><code>switch</code> 可以针对<code>任意数据类型</code>进行判断</li>
<li>不再需要 <code>break</code></li>
<li>每一个 <code>case</code>后面必须有可以执行的语句</li>
<li>要保证处理所有可能的情况，不然编译器直接报错，不处理的条件可以放在 <code>default</code> 分支中</li>
<li>每一个 <code>case</code> 中定义的变量仅在当前 <code>case</code> 中有效，而 OC 中需要使用 <code>{}</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> score = <span class="string">"优"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> score &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"优"</span>:</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">"学生"</span></span><br><span class="line">    <span class="built_in">print</span>(name + <span class="string">"80~100分"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">"良"</span>: <span class="built_in">print</span>(<span class="string">"70~80分"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">"中"</span>: <span class="built_in">print</span>(<span class="string">"60~70分"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">"差"</span>: <span class="built_in">print</span>(<span class="string">"不及格"</span>)</span><br><span class="line"><span class="keyword">default</span>: <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>switch 中同样能够赋值和使用 <code>where</code> 子句</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> point = <span class="type">CGPoint</span>(x: <span class="number">10</span>, y: <span class="number">10</span>)</span><br><span class="line"><span class="keyword">switch</span> point &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> p <span class="keyword">where</span> p.x == <span class="number">0</span> &amp;&amp; p.y == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"中心点"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> p <span class="keyword">where</span> p.x == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Y轴"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> p <span class="keyword">where</span> p.y == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"X轴"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> p <span class="keyword">where</span> <span class="built_in">abs</span>(p.x) == <span class="built_in">abs</span>(p.y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"对角线"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"其他"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果只希望进行条件判断，赋值部分可以省略</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> score &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">_</span> <span class="keyword">where</span> score &gt; <span class="number">80</span>: <span class="built_in">print</span>(<span class="string">"优"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">_</span> <span class="keyword">where</span> score &gt; <span class="number">60</span>: <span class="built_in">print</span>(<span class="string">"及格"</span>)</span><br><span class="line"><span class="keyword">default</span>: <span class="built_in">print</span>(<span class="string">"其他"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </section>

</article>


<section class="post-comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="http://yoursite.com/2016/05/23/MySwiftStudyWay2/" data-title="我的Swift学习之路(二)--控制流" data-url="http://yoursite.com/2016/05/23/MySwiftStudyWay2/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"yellowchao"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>




            <footer class="footer">
    <span class="footer__copyright">
        本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
    <span class="footer__copyright">
        &copy; 2016 - 本站由 <a href="/">@Longbo Ma</a> 创建,
        使用<a href="https://github.com/lenbo-ma/hexo-theme-vno">hexo-theme-vno</a>主题
    </span>
</footer>

        </div>
    </div>

    <script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-42596364-1', 'auto');
	ga('send', 'pageview');
</script>


</body>
</html>
